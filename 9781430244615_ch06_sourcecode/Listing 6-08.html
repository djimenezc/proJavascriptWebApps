<!DOCTYPE html>
<html>
<head>
    <title>Local Storage Example</title>
    <link rel="stylesheet" type="text/css" href="jquery-ui-1.8.16.custom.css"/>
    <link rel="stylesheet" type="text/css" href="styles.css"/> 
    <script src="jquery-1.7.1.js" type="text/javascript"></script>    
    <script src="jquery-ui-1.8.16.custom.js" type="text/javascript"></script>
    <script src='knockout-2.0.0.js' type='text/javascript'></script>
    <script src='utils.js' type='text/javascript'></script>
    <script>
        var viewModel = {
            personalDetails: [
                {name: "name", label: "Name", value: ko.persistentObservable("name")},
                {name: "city", label: "City", 
                    value: ko.persistentObservable("city", null, true)},
                {name: "country", label: "Country", 
                    value: ko.persistentObservable("country", null, true)}
            ]
        };


        $(document).ready(function() {
            
            ko.applyBindings(viewModel);
                        
            $('#buttonDiv input').button().click(function(e) {
                localStorage.clear();
            });            
        });  
    </script>
</head>
<body>    
    <form action="/formecho" method="POST">
        <div class="cheesegroup">
            <div class="grouptitle">Your Details</div>
            <div class="groupcontent centered">
                <div data-bind="foreach: personalDetails">
                    <span data-bind="text: label"></span>:
                    <input class="stwin" data-bind="attr: {name: name}, value: value">
                </div>
            </div>
        </div>
        
        <iframe src="embedded.html"></iframe>
        
        <div id="buttonDiv">
            <input type="submit" value="Submit">
            <input type="reset" value="Reset">
        </div>
    </form>
</body>
</html>
